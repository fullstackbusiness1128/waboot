/*! Waboot 11-03-2015 */
function loadWebFonts(a){_.isEmpty(a)||WebFont.load({google:{families:a}})}loadWebFonts(wbfOfFonts.families),jQuery(document).ready(function(a){"use strict";a(".font-family-selector").on("change",function(){var b=a(this),c=a(this).siblings(".font-style-selector"),d=c.find("input:first").attr("name"),e=a(this).siblings(".font-charset-selector"),f=e.find("input:first").attr("name"),g=a(this).siblings(".font-category-selector"),h=a(this).siblings(".font-preview"),i=a.ajax({url:ajaxurl,type:"POST",data:{action:"gfontfetcher_getFontInfo",family:a(this).val()},dataType:"json",beforeSend:function(){b.attr("disabled","disabled"),c.addClass("disabled"),e.addClass("disabled")}});i.done(function(i){console.log(i),"webfonts#webfont"==i.kind&&loadWebFonts([b.val()]),h.find("p").css("font-family","'"+i.family+"',"+i.category),c.html(function(){var b="";return a.each(i.variants,function(){b+="<input name='"+d+"' type='checkbox' value='"+this+"' />"+this}),b}()),e.html(function(){var b="";return a.each(i.subsets,function(){b+="<input name='"+f+"' type='checkbox' value='"+this+"' />"+this}),b}()),g.val(i.category)}),i.fail(function(a,b,c){console.log(c)}),i.always(function(){b.removeAttr("disabled"),c.removeClass("disabled"),e.removeClass("disabled")})})});